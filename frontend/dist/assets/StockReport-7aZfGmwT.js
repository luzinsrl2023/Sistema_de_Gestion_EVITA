import{r as k,R as N,j as e,D as f,m as v,n as w,f as S,q as F,s as C}from"./index-DfmaiBAy.js";import{R as i,C as A,X as E,Y as P,T as n,L as x,B as m,P as B,a as D,b as L}from"./PieChart-DKg2jpMD.js";import{B as R}from"./BarChart-BV7fdT8d.js";const a=[{product:"Producto A",stock:120,minStock:50,category:"Limpieza"},{product:"Producto B",stock:80,minStock:30,category:"Limpieza"},{product:"Producto C",stock:25,minStock:50,category:"Limpieza"},{product:"Producto D",stock:200,minStock:75,category:"Electricidad"},{product:"Producto E",stock:150,minStock:100,category:"Artículos Generales"},{product:"Producto F",stock:45,minStock:25,category:"Electricidad"},{product:"Producto G",stock:10,minStock:50,category:"Limpieza"},{product:"Producto H",stock:300,minStock:150,category:"Artículos Generales"}],g=[{name:"Limpieza",value:400},{name:"Electricidad",value:300},{name:"Artículos Generales",value:300}],h=["#0088FE","#00C49F","#FFBB28"];function G(){const[o,p]=k.useState(()=>localStorage.getItem("report:stock:filter")||"all");N.useEffect(()=>{localStorage.setItem("report:stock:filter",o)},[o]);const u=()=>{const t=a.map(s=>({Producto:s.product,Stock:s.stock,"Stock Mínimo":s.minStock,Categoría:s.category,Estado:s.stock<=s.minStock?"Bajo":"Normal"}));F({filename:"reporte_stock_evita.xlsx",sheetName:"ReporteStock",data:t})},j=()=>{const t=["Producto","Stock","Stock Mínimo","Categoría","Estado"],s=a.map(r=>[r.product,r.stock,r.minStock,r.category,r.stock<=r.minStock?"Bajo":"Normal"]);C({title:"Reporte de Stock - EVITA",head:t,body:s,filename:"reporte_stock_evita.pdf"})},d=o==="low"?a.filter(t=>t.stock<=t.minStock):a,y=a.filter(t=>t.stock<=t.minStock).length,b=a.filter(t=>t.stock===0).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Reporte de Stock"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Análisis de inventario y niveles de stock"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative",children:e.jsxs("select",{value:o,onChange:t=>p(t.target.value),className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none pr-8",children:[e.jsx("option",{value:"all",children:"Todos los productos"}),e.jsx("option",{value:"low",children:"Stock bajo"})]})}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx(f,{className:"h-4 w-4"}),"Exportar"]}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[e.jsxs("button",{onClick:u,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-white hover:bg-gray-700 transition-colors",children:[e.jsx(v,{className:"h-4 w-4"}),"Exportar Excel"]}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-white hover:bg-gray-700 transition-colors",children:[e.jsx(w,{className:"h-4 w-4"}),"Exportar PDF"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg",children:e.jsx(l,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.length}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Productos"})]})]})}),e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-500/10 text-yellow-400 rounded-lg",children:e.jsx(l,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:y}),e.jsx("p",{className:"text-sm text-gray-400",children:"Stock Bajo"})]})]})}),e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-500/10 text-red-400 rounded-lg",children:e.jsx(l,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:b}),e.jsx("p",{className:"text-sm text-gray-400",children:"Agotados"})]})]})}),e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500/10 text-green-400 rounded-lg",children:e.jsx(l,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:S(125e3)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Valor Inventario"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Niveles de Stock"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(R,{data:d,margin:{top:5,right:30,left:20,bottom:50},children:[e.jsx(A,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(E,{dataKey:"product",stroke:"#9CA3AF",angle:-45,textAnchor:"end",height:60}),e.jsx(P,{stroke:"#9CA3AF"}),e.jsx(n,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151"},itemStyle:{color:"#F9FAFB"},labelStyle:{color:"#F9FAFB"}}),e.jsx(x,{}),e.jsx(m,{dataKey:"stock",fill:"#10B981",name:"Stock Actual"}),e.jsx(m,{dataKey:"minStock",fill:"#EF4444",name:"Stock Mínimo"})]})})})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Distribución por Categorías"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(B,{children:[e.jsx(D,{data:g,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:t,percent:s})=>`${t} ${(s*100).toFixed(0)}%`,children:g.map((t,s)=>e.jsx(L,{fill:h[s%h.length]},`cell-${s}`))}),e.jsx(n,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151"},itemStyle:{color:"#F9FAFB"},labelStyle:{color:"#F9FAFB"}}),e.jsx(x,{})]})})})]})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Detalle de Inventario"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800/50",children:[e.jsx("th",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-gray-400",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-gray-400",children:"Categoría"}),e.jsx("th",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-gray-400 text-center",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-gray-400 text-center",children:"Stock Mínimo"}),e.jsx("th",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-gray-400 text-center",children:"Estado"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-800",children:d.map((t,s)=>{const r=t.stock<=t.minStock,c=t.stock===0;return e.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 text-sm font-medium text-white",children:t.product}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-400",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-700 text-gray-300",children:t.category})}),e.jsx("td",{className:"px-4 py-4 text-sm text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c?"bg-red-500/10 text-red-400":r?"bg-yellow-500/10 text-yellow-400":"bg-green-500/10 text-green-400"}`,children:t.stock})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-400 text-center",children:t.minStock}),e.jsx("td",{className:"px-4 py-4 text-sm text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c?"bg-red-500/10 text-red-400":r?"bg-yellow-500/10 text-yellow-400":"bg-green-500/10 text-green-400"}`,children:c?"Agotado":r?"Bajo":"Normal"})})]},s)})})]})})]})]})}function l(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m7.5 4.27 9 5.15"}),e.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),e.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),e.jsx("path",{d:"M12 22V12"})]})}export{G as default};
