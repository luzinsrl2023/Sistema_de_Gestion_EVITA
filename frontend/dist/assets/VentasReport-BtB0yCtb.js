import{r as j,R as b,j as e,D as v,m as y,n as N,f as t,q as f,s as w}from"./index-BzKEmjXo.js";import{R as i,C as F,X as C,Y as A,T as c,L as d,B as x,P as B,a as R,b as E}from"./PieChart-TgYk0Ne_.js";import{B as k}from"./BarChart-mA5pz8yH.js";const n=[{month:"Ene",sales:4e3,purchases:2400},{month:"Feb",sales:3e3,purchases:1398},{month:"Mar",sales:2e3,purchases:9800},{month:"Abr",sales:2780,purchases:3908},{month:"May",sales:1890,purchases:4800},{month:"Jun",sales:2390,purchases:3800},{month:"Jul",sales:3490,purchases:4300},{month:"Ago",sales:2e3,purchases:2400},{month:"Sep",sales:3e3,purchases:1398},{month:"Oct",sales:4e3,purchases:9800},{month:"Nov",sales:2780,purchases:3908},{month:"Dic",sales:1890,purchases:4800}],h=[{name:"Producto A",value:400},{name:"Producto B",value:300},{name:"Producto C",value:300},{name:"Producto D",value:200}],m=["#0088FE","#00C49F","#FFBB28","#FF8042"];function P(){const[l,p]=j.useState(()=>localStorage.getItem("report:ventas:timeRange")||"monthly");b.useEffect(()=>{localStorage.setItem("report:ventas:timeRange",l)},[l]);const g=()=>{const a=n.map(s=>({Mes:s.month,Ventas:s.sales,Compras:s.purchases}));f({filename:"reporte_ventas_evita.xlsx",sheetName:"ReporteVentas",data:a})},u=()=>{const a=["Mes","Ventas","Compras"],s=n.map(o=>[o.month,t(o.sales),t(o.purchases)]);w({title:"Reporte de Ventas - EVITA",head:a,body:s,filename:"reporte_ventas_evita.pdf"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Reporte de Ventas"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Análisis de ventas mensuales y comparativo con compras"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative",children:e.jsxs("select",{value:l,onChange:a=>p(a.target.value),className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 appearance-none pr-8",children:[e.jsx("option",{value:"monthly",children:"Mensual"}),e.jsx("option",{value:"quarterly",children:"Trimestral"}),e.jsx("option",{value:"yearly",children:"Anual"})]})}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx(v,{className:"h-4 w-4"}),"Exportar"]}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[e.jsxs("button",{onClick:g,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-white hover:bg-gray-700 transition-colors",children:[e.jsx(y,{className:"h-4 w-4"}),"Exportar Excel"]}),e.jsxs("button",{onClick:u,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-white hover:bg-gray-700 transition-colors",children:[e.jsx(N,{className:"h-4 w-4"}),"Exportar PDF"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg",children:e.jsx(r,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t(34e3)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Ventas Totales"})]})]})}),e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500/10 text-green-400 rounded-lg",children:e.jsx(r,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t(28e3)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Compras Totales"})]})]})}),e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/10 text-purple-400 rounded-lg",children:e.jsx(r,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t(6e3)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Utilidad Bruta"})]})]})}),e.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-500/10 text-yellow-400 rounded-lg",children:e.jsx(r,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:"17.6%"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Margen Bruto"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ventas vs Compras"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(k,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(F,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(C,{dataKey:"month",stroke:"#9CA3AF"}),e.jsx(A,{stroke:"#9CA3AF"}),e.jsx(c,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151"},itemStyle:{color:"#F9FAFB"},labelStyle:{color:"#F9FAFB"}}),e.jsx(d,{}),e.jsx(x,{dataKey:"sales",fill:"#10B981",name:"Ventas"}),e.jsx(x,{dataKey:"purchases",fill:"#3B82F6",name:"Compras"})]})})})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Distribución de Productos"}),e.jsx("div",{className:"h-80",children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(B,{children:[e.jsx(R,{data:h,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:a,percent:s})=>`${a} ${(s*100).toFixed(0)}%`,children:h.map((a,s)=>e.jsx(E,{fill:m[s%m.length]},`cell-${s}`))}),e.jsx(c,{contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151"},itemStyle:{color:"#F9FAFB"},labelStyle:{color:"#F9FAFB"}}),e.jsx(d,{})]})})})]})]})]})}function r(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),e.jsx("polyline",{points:"17 6 23 6 23 12"})]})}export{P as default};
