import{A as u,B as i,G as c}from"./index-DfmaiBAy.js";const o="evita-pagos";function s(){if(typeof window>"u")return[];const t=localStorage.getItem(o);if(!t)return localStorage.setItem(o,JSON.stringify([])),[];try{return JSON.parse(t)}catch{return[]}}function y(t){localStorage.setItem(o,JSON.stringify(t))}async function f(){return Promise.resolve(s())}async function l(t){const n=s(),e=t.id||`PAY-${Date.now()}`,a=[...n,{...t,id:e}];return y(a),Promise.resolve({...t,id:e})}const r=["pagos"];function g(){const t=u(),n=i({queryKey:r,queryFn:f}),e=c({mutationFn:l,onSuccess:()=>t.invalidateQueries({queryKey:r})});return{...n,addPago:e.mutateAsync}}export{g as u};
